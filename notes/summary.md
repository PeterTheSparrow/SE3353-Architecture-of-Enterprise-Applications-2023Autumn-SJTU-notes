# 总结

2023.10.02

> 由这一分钟开始计起  春风秋雨间
限我对你以半年时间  慢慢的心淡
付清 账单   平静的对你热度退减
> 一天一点伤心过    这一百数十晚
大概也够我  送我来回地狱又折返人间
春天分手 秋天会习惯
苦冲开了便淡
说什么再平反
只怕被迫一起 更碍眼
往后这半年间
只爱自己 虽说不太习惯
毕竟有限 就当 过关
> ——《心淡》 容祖儿

| No! | Yes! |
| --- | ---- |
| Stateful | Stateless |
| serialized  | parallelized |
| syn | asyn |
| HDD vs SSD | Cache |
| sequence | full-text |
| mono | micro |

1. 上来就说了，我们写后台的时候，不要写有状态的，要写无状态的！这样后台的压力就会变低；
2. 然后我们说，不要串行，要并发！（事务就是最典型的例子）；在并行的时候，最重要的就是我们在os里面提到过的happen before的概念。在分布式系统里面，大家的时间很可能都不是一致的（操作需要精确到毫秒级！）不能单靠时间，要靠一些其他方法（当然这是后话）。
3. 不要同步通信！这会导致压力很大，阻塞！异步通信可以做流量的削峰；当然异步通信还包括了ajax前后端通信异步刷新页面，还有后端主动推消息的websocket。
4. 不要老是去读硬盘！要用缓存！而且我们说了，缓存的目的是因为redis这种事百分百由你控制的，而mysql里面这种缓存其实你的控制力非常有限。
5. 全文搜索！不要按顺序来搜索，做反向索引！这里我们处理的是没有结构化的非常大坨的数据。
6. 不要做单体的应用！做解耦的、大家基础设施不是共享的应用！这样保证了基础设施层面大家不竞争了，一个崩溃了其他人也都还能好好的！
